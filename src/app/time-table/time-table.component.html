<ng-container *ngIf="currentWeekDay$ | async as week">
  <div class="time-table" *ngIf="data$ | async as userData">
    <h2 class="page-title">{{ userData?.title }}</h2>

    <table class="table" cellspacing="0" cellpadding="0">
      <thead class="table-head">
        <tr class="row">
          <td class="cell cab">Каб</td>
          <td class="cell job">Должность</td>
          <td class="cell name">ФИО врача</td>
          <td class="cell time" [class.active]="week === 1">Пн</td>
          <td class="cell time" [class.active]="week === 2">Вт</td>
          <td class="cell time" [class.active]="week === 3">Ср</td>
          <td class="cell time" [class.active]="week === 4">Чт</td>
          <td class="cell time" [class.active]="week === 5">Пт</td>
          <td class="cell time" *ngIf="workingDays > 5">Сб</td>
        </tr>
      </thead>
      <tbody class="table-body">
        <tr
          class="row"
          [class.even]="even"
          *ngFor="let user of userData?.users; even as even"
        >
          <td class="cell cab">{{ user.cabinet }}</td>
          <td class="cell job">{{ user.job }}</td>
          <td class="cell name" [innerHTML]="user.name"></td>
          <ng-container *ngFor="let time of user.times; index as i">
            <td
              class="cell time"
              *ngIf="i < workingDays"
              [class.active]="week === i + 1"
              [innerHTML]="time"
            ></td>
          </ng-container>
        </tr>
      </tbody>
    </table>
  </div>
</ng-container>
